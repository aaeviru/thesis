\documentclass{jsarticle}

\usepackage{graphicx}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{url}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\ee}{\mathrm{e}}

\theoremstyle{definition}
\newtheorem{thm}{定理}
\newtheorem{defi}[thm]{定義}
\newtheorem{prop}[thm]{命題}
\newtheorem{cor}[thm]{系}
\newtheorem{asm}[thm]{仮定}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\newcommand{\argmax}{\mathop{\rm argmax}\limits}
\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}
\title{プライバシーを保護する特許検索}
\author{中川研究室 修士2年 胡 瀚林\\指導教員： 中川 裕志 教授}
\date{2016年7月1日}
\begin{document}
\maketitle
\begin{abstract}
企業が特許を取る前に，類似な特許が既に存在するかを確かめるために特許データベースを検索する必要がある．
しかし，検索の質問から企業秘密が漏洩する可能性がある．
ウェブテキスト検索の質問からユーザーの興味を守る手法が多数存在している．
その中真の質問と同時にダミー質問を提出する手法が一番効率的、現実的である．
一般的なウェブテキスト検索と違い，特許データベース検索は長い検索質問を用い，検索の精度と再現率を重視しているため、既存手法を直接特許検索に適用することはできない．
本発表では既存手法を破られる攻手法を提案し、その攻撃手法に対応できるダミー質問生成システムを提案する．
\end{abstract}


\section{INTRODUCTION}


\subsection{Patent Search}
特許法第1条には，「この法律は、発明の保護及び利用を図ることにより、発明を奨励し、もつて産業の発達に寄与することを目的とする」とある．\cite{}
特許制度は，発明者には一定期間，一定の条件のもとに特許権という独占的な権利を与えて発明の保護を図る一方，その発明を公開して利用を図ることにより新しい技術を人類共通の財産としていくことを定めて，これにより技術の進歩を促進し，産業の発達に寄与しようというものである．\cite{}
特許を取るには以下の条件を満たさなければならない，\\
新規性:公知の発明と同様の発明は特許を受けることができない．\\
進歩性:先行技術に基づいて容易に発明をすることができる発明は特許を受けることができない．\\
単一性:発明の単一性の要件を満たさない二以上の発明は一つの願書で出願することができない．\\

%特許文章の特徴\\
特許を受けようとする発明を特定するために特許請求の範囲を記載する必要がある．

図\ref{}で表した例のように，特許の請求項は特定の書き方がある．
誤解を招かないように技術用語は、学術用語を用いる．
また，一般的な文章は単語をなるべく重複しないようにする一方，特許文章は単語を全体を通じて統一して使用する．

%特許検索の目的と方法\\
\begin{center}
\begin{tabular}{ccc}
\noalign{\hrule height 1pt}
検索タイプー & 検索対象(specification) & 検索目的 \\
\hline
\tabincell{c}{技術水準調査\\(State of the Art Search)} & イデア & 自分の発明に関連する背景知識を得る \\
\tabincell{c}{新規性調査\\(Novelty Search)} & 特許文章 & 特許登録の可能性を判断する \\
\tabincell{c}{侵害調査\\(Infringement Search)} &  \tabincell{c}{商品と\\商品に関連する技術} & 権利侵害とならないかを判断する \\
\noalign{\hrule height 1pt}
\end{tabular}
\end{center}


%ーー新規性調査(Novelty Search)\\
本稿では新規性調査を対象にユーザーのプライバシーを守る手法を研究する．
\subsection{Patent Versus Non-patent Literature}
特許文章と普通の文章の区別
\section{PRIVATE INFORMATION RETRIEVAL}
PIRの背景紹介
\subsection{Private Information Retrieval}
\subsection{Obfuscation-Based Private Search}
既存手法とその手法が特許検索に適用できない理由

\section{LATENT SEMANTIC MODELS}
ユーザーが質問に使った具体的な単語だけではなくユーザーが興味ある分野も隠すため、質問の意味を分析する必要がある．
本稿では，分野あるいは単語の意味のカテゴリをトピックという．
質問が一連のトピックと関係があると仮定し，質問$q$とトピック$t$の関係を関数$rscore(q,t)$で評価する．

\begin{defi}[ユニバーサル質問集合:$Q$]
$W$を全ての単語の集合とする．
ユニバーサル質問集合$Q$とは$W$の冪集合である，つまり
\begin{equation}
Q = P(W) = \{X|X \subset W\}
\end{equation}
\end{defi}

\begin{defi}[質問-トピックスコア関数:$rscore$]
$T$を全ての可能なトピックの集合とする．
質問$q$とトピック푡の関係を表す関数とは
\begin{equation}
rscore:Q \times T \to \mathbb{R}
\end{equation}
\end{defi}


\subsection{tf-idf}
\subsection{Latent Semantic Indexing}
長所:計算簡単\\
短所:トピックベクトルが直交である
単語$w$のLSIトピックベクトル$LSI_w = (s_1,s_2, \dots , s_{K_{LSI}})$ \\
LSIトピック$t$の
単語集合$ W' \subset  W = \{w_1,w_2, \dots ,w_m\}$のLSIトピックベクトル
\begin{equation}
LSI_q = \sum_{w_i \in q}LSI_{w_i}
\end{equation}

\subsection{Probabilistic Latent Semantic Indexing}
長所:確率的モデル\\
短所:トレーニングセットに含まれていない文章(質問)の分析が困難である

\subsection{Latent Dirichlet Allocation}
長所:確率的モデルトレーニングセットに含まれていない文章(質問)の分析が簡単\\
短所:学習するときは単語数xトピック数の行列を用いて反復するので学習するには時間がかかる(30トピック、1000反復は3日かかる)
各クラスに属する単語のtfidf値の上位10000個を用いてLDAを行い全ての単語とトピックに対して$Pr[w|t]$と$Pr[t]$を計算する.\\
単語$w$のLDAトピックベクトル$LDA_w = (Pr[w|t=1],Pr[w|t=2], \dots ,Pr[w|t=K_{LDA}])$ \\
単語集合$ W' \subset W = \{w_1,w_2, \dots ,w_m\}$のLDAトピックベクトル
\begin{eqnarray}
Pr[t|W'] & = & \frac{\prod_{w \in W'}Pr[w|t])Pr[t]}{\prod_{w \in W'}Pr[w]} \\
LDA_W' & = & (Pr[W'|t=1],Pr[W'|t=2], \dots , Pr[q|t=K_{LDA}])
\end{eqnarray}

\subsection{トピック間の距離}

\begin{defi}[トピック間のcos距離]

\end{defi}

\section{privacy-protecting patent search}
提案手法\\
評価(攻撃)方法
\section{EXPERIMENT}
実験\\
1質問者:tfidf攻撃者LSA\\
2質問者:LSA攻撃者LSA\\
3質問者:LDA攻撃者LSA\\
4質問者:LSA攻撃者LDA
\section{CONCLUSIONS}
\section{FUTURE WORKS}

\begin{table}[!hbp]
\center
\begin{tabular}{|c|c|}
\hline
符号 & 意味 \\
\hline
$N$ & 辞書中の単語の数 \\
$W = \{1,2,3, \dots ,N\} $ & 単語集合 \\
$M$ & コーパス中の文書の数 \\
$D = \{1,2,3, \dots ,M\}$ & 文章集合 \\ 
$K$ & トピック数 \\
$T = \{1,2,3, \dots ,K\}$ & トピック集合 \\
$\ell_i = \{t_1,t_2,\dots,K\} $ & 単語$i$のトピックベクトル \\
$\ell$ & 質問のトピックベクトル \\
\hline
\end{tabular}
\caption{表記法}
\end{table}

\begin{algorithm}
\caption{潜在意味解析}
\begin{algorithmic}[1]
    \Require 単語文集行列$A$
    \State 特異値分解$A = U \Sigma V$
	\State 特異値の上位$T$個だけ用い、行列の階数を低減する:$A' = U_T \Sigma_T V_T$
    \State $U$
    \Return $R$
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{} 
\begin{algorithmic}[1]
    \Require ユーザー質問集合:$U=\{u^r | r \in {1,2, \dots , R}\},$単語のトピックベクトル集合$L=\{\ell_i\}$
    \Return $R$
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{} 
\begin{algorithmic}[1]
    \Require ユーザー質問集合:$U=\{u^r | r \in {1,2, \dots , R}\},$単語のトピックベクトル集合$L=\{\ell_i\}$
    \Return $R$
\end{algorithmic}
\end{algorithm}


\begin{algorithm}
\caption{デミー質問生成}
\begin{algorithmic}[1]
    \Require ユーザー質問集合:$U=\{u^r | r \in {1,2, \dots , R}\},$単語のトピックベクトル集合$L=\{\ell_i\}$
    \Return $R$
\end{algorithmic}
\end{algorithm}


\begin{algorithm}
\caption{HDGA(On Masking Topical Intent in Keyword Search)}
\begin{algorithmic}[1]
    \Require 質問:$q_1$
    \State $Q = \{q_1\}\delta_{q_1} = \argmax_{t \in T} Pr[t|q_1]$
	\ForAll {$t \in T \setminus \{\delta_{q_1}\}$}
    \State $e_t = h(\delta_{q_1}||t||s)$
	\EndFor
    \State $T_D = \{t^1_{q1},t^2_{q1}, \dots , t^2_{q1} | \forall t_1 \ \in T_D , \forall t_2 \ \in T \setminus T_D, e_{t_1} > e_{t_2} \}$
    \ForAll {$t \in T_D $}
	\While { $ \argmax_{t \in T} Pr[t|q'] \neq t$}
	\State randomly select $|q_1|$ keywords for $t$ based on $Pr[w|t]$, to form a dummy query $q'$
	\EndWhile
    \State $Q = Q \cup \{q'\}$
    \EndFor　
	\State Shuffle queries in Q
    \Return $Q$
\end{algorithmic}
\end{algorithm}



\begin{algorithm}
\caption{メイントピック攻撃}
\begin{algorithmic}[1]
    \Require 質問:$q=\{t_i\},$単語のトピックベクトル集合$L=\{\ell_i\}$
    \State $R=\phi, \, \ell=0$
    \State $\ell=\sum_{t_i \in Q}\ell_{t_i}$
    \State $maintopic = \argmax_j \ell[j]$
    \ForAll {$bk_k \in q $}
    \State $R=R \cup \{\max_{t_i}l_{t_i}[maintopic]\}$
    \EndFor　\\
    \Return $R$
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{類似攻撃}
\begin{algorithmic}[1]
    \Require 質問集合:$Q=\{q^r_i\, | i \in \{1,2,3,4\},r \in \{1,2, \dots ,R\}\},$単語のトピックベクトル集合$L=\{\ell_i\}$
    \State $p_i= q^1_i \, \, i \in \{1,2,3,4\} , result = \phi $
    \For {$r = 2,3 \dots ,R $}
		\For {$i = 1,2,3,4$}
		\State $j = \argmax_j \frac{p_i \cdot q^r_j}{|p_i||q^r_j|}$
		\State $d_i = \frac{p_i \cdot q^r_j}{|p_i||q^r_j|}$
		\State $temp_i = \frac{1}{r}(p_i(r-1) + q_j)$
		\EndFor
		\For {$i = 1,2,3,4$}
		\State $p_i = temp_i $
		\EndFor
    \State $result =result \cup \{\argmax_{i}d_i\}$
    \EndFor　\\
    \Return $result$
\end{algorithmic}
\end{algorithm}



\end{document}
